import os
import csv

# Path to collect data from the Resources folder
csvpath = os.path.join('')
#('users\merei\OneDrive\Desktop\python-challenge-module 3\PyBank\Resources\budget_data.csv')

# Open file for data
with open(csvpath) as csvfile:
    csvreader = csv.reader(csvfile, delimiter=',')
    data = list()

# find the number of months
total_months = data['Date'].nunique()

# Sum of Profit and Losses
profit_losses = data['Profit/Losses'].sum()

# difference between profit and losses
changes = data['Profit/Losses'].diff()

#average
average_change = changes.mean()

# Greatest increase in profit
greatest_increase = changes.max()
greatest_increase_data = data.loc[changes.idxmax(), 'Date']

# greatest decrease in profits
greatest_decrease = changes.min()
greatest_decrease_data = data.loc[changes.idxmin(), 'Date']

# Results
analysis_results = {
    'Total Months': total_months,
    'Total Profit/Losses': profit_losses,
    'Average Change': average_change,
    'Greatest Increase in Profits': (greatest_increase_data, greatest_increase),
    'Greatest Decrease in Profits': (greatest_decrease_data, greatest_decrease)
}